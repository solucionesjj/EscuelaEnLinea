<app-loading *ngIf="loading"></app-loading>
<div class="row">
    <div class="col-2">
        <div class="form-group">
            <label for="">Año</label>
            <input readonly="readonly" type="text" title="selectedYear" name="selectedYear" id="selectedYear" value="{{selectedYear}}"
                class="form-control" placeholder="" aria-describedby="helpId">
            <small id="helpId" class="text-muted">Año actual.</small>
        </div>
    </div>
    <div class="col-2">
        <div class="form-group">
            <label for="">Bimestre</label>
            <input readonly="readonly" type="text" title="actualPeriod" name="actualPeriod" id="actualPeriod" value="{{actualPeriod}}"
                class="form-control" placeholder="" aria-describedby="helpId">
            <small id="helpId" class="text-muted">Bimestre actual.</small>
        </div>
    </div>
    <div class="col-3">
        <div class="form-group">
            <label for="">Curso</label>
            <select class="form-control" title="idCourse" name="idCourse" id="idCourse" [(ngModel)]="selectedCourse">
                <option></option>
                <option *ngFor="let course of courses" id="{{course.id}}" value="{{course.id}}">{{course.value}}
                </option>
            </select>
            <small id="helpId" class="text-muted">Seleccione el curso.</small>
        </div>
    </div>
    <div class="col-2">
        <div class="form-group">
            <label for="">Acción</label>
            <button type="button" class="btn btn-primary" (click)="getMatriculations()">
                Consultar
            </button>
        </div>
    </div>
</div>
<hr>
<app-loading *ngIf="loadingInformation"></app-loading>
<ng-container *ngIf="informationLoaded">
    <table class="table table-striped table-inverse table-responsive">
        <thead class="thead-inverse">
            <tr>
                <th>No</th>
                <th>Alumno</th>
                <th>Identificación</th>
                <th>Calificación compromiso familiar</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let matriculation of matriculations  ; index as index">
                <td scope="row">{{index+1}}</td>
                <td>{{matriculation.fullName}}</td>
                <td>{{matriculation.identificationDocument}}</td>
                <td>
                    <div *ngFor="let qualifyCatalogRecord of legalGuardianQualifyCatalog"
                        class="form-check form-check-inline">
                        <input class="form-check-input" type="checkbox" title="{{qualifyCatalogRecord.aspect}}: {{qualifyCatalogRecord.qualify}}" placeholder="{{qualifyCatalogRecord.aspect}}: {{qualifyCatalogRecord.qualify}}"
                        [checked]="isChecked(matriculation.idMatriculations,qualifyCatalogRecord.id, actualPeriod)"
                        (click)="qualification(matriculation.idMatriculations,qualifyCatalogRecord.id, actualPeriod )">
                        {{qualifyCatalogRecord.aspect}}: {{qualifyCatalogRecord.qualify}}
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</ng-container>